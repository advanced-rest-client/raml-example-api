(function(Prism){var modifierRegex="(?:\\([^|)]+\\)|\\[[^\\]]+\\]|\\{[^}]+\\})+";var modifierTokens={"css":{pattern:/\{[^}]+\}/,inside:{rest:Prism.languages.css}},"class-id":{pattern:/(\()[^)]+(?=\))/,lookbehind:true,alias:"attr-value"},"lang":{pattern:/(\[)[^\]]+(?=\])/,lookbehind:true,alias:"attr-value"},"punctuation":/[\\\/]\d+|\S/};Prism.languages.textile=Prism.languages.extend("markup",{"phrase":{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:true,inside:{"block-tag":{pattern:RegExp("^[a-z]\\w*(?:"+
modifierRegex+"|[\x3c\x3e\x3d()])*\\."),inside:{"modifier":{pattern:RegExp("(^[a-z]\\w*)(?:"+modifierRegex+"|[\x3c\x3e\x3d()])+(?\x3d\\.)"),lookbehind:true,inside:Prism.util.clone(modifierTokens)},"tag":/^[a-z]\w*/,"punctuation":/\.$/}},"list":{pattern:RegExp("^[*#]+(?:"+modifierRegex+")?\\s+.+","m"),inside:{"modifier":{pattern:RegExp("(^[*#]+)"+modifierRegex),lookbehind:true,inside:Prism.util.clone(modifierTokens)},"punctuation":/^[*#]+/}},"table":{pattern:RegExp("^(?:(?:"+modifierRegex+"|[\x3c\x3e\x3d()^~])+\\.\\s*)?(?:\\|(?:(?:"+
modifierRegex+"|[\x3c\x3e\x3d()^~_]|[\\\\/]\\d+)+\\.)?[^|]*)+\\|","m"),inside:{"modifier":{pattern:RegExp("(^|\\|(?:\\r?\\n|\\r)?)(?:"+modifierRegex+"|[\x3c\x3e\x3d()^~_]|[\\\\/]\\d+)+(?\x3d\\.)"),lookbehind:true,inside:Prism.util.clone(modifierTokens)},"punctuation":/\||^\./}},"inline":{pattern:RegExp("(\\*\\*|__|\\?\\?|[*_%@+\\-^~])(?:"+modifierRegex+")?.+?\\1"),inside:{"bold":{pattern:RegExp("((^\\*\\*?)(?:"+modifierRegex+")?).+?(?\x3d\\2)"),lookbehind:true},"italic":{pattern:RegExp("((^__?)(?:"+
modifierRegex+")?).+?(?\x3d\\2)"),lookbehind:true},"cite":{pattern:RegExp("(^\\?\\?(?:"+modifierRegex+")?).+?(?\x3d\\?\\?)"),lookbehind:true,alias:"string"},"code":{pattern:RegExp("(^@(?:"+modifierRegex+")?).+?(?\x3d@)"),lookbehind:true,alias:"keyword"},"inserted":{pattern:RegExp("(^\\+(?:"+modifierRegex+")?).+?(?\x3d\\+)"),lookbehind:true},"deleted":{pattern:RegExp("(^-(?:"+modifierRegex+")?).+?(?\x3d-)"),lookbehind:true},"span":{pattern:RegExp("(^%(?:"+modifierRegex+")?).+?(?\x3d%)"),lookbehind:true},
"modifier":{pattern:RegExp("(^\\*\\*|__|\\?\\?|[*_%@+\\-^~])"+modifierRegex),lookbehind:true,inside:Prism.util.clone(modifierTokens)},"punctuation":/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{"string":{pattern:/(\[)[^\]]+(?=\])/,lookbehind:true},"url":{pattern:/(\])\S+$/,lookbehind:true},"punctuation":/[\[\]]/}},"link":{pattern:RegExp('"(?:'+modifierRegex+')?[^"]+":.+?(?\x3d[^\\w/]?(?:\\s|$))'),inside:{"text":{pattern:RegExp('(^"(?:'+modifierRegex+')?)[^"]+(?\x3d")'),lookbehind:true},
"modifier":{pattern:RegExp('(^")'+modifierRegex),lookbehind:true,inside:Prism.util.clone(modifierTokens)},"url":{pattern:/(:).+/,lookbehind:true},"punctuation":/[":]/}},"image":{pattern:RegExp("!(?:"+modifierRegex+"|[\x3c\x3e\x3d()])*[^!\\s()]+(?:\\([^)]+\\))?!(?::.+?(?\x3d[^\\w/]?(?:\\s|$)))?"),inside:{"source":{pattern:RegExp("(^!(?:"+modifierRegex+"|[\x3c\x3e\x3d()])*)[^!\\s()]+(?:\\([^)]+\\))?(?\x3d!)"),lookbehind:true,alias:"url"},"modifier":{pattern:RegExp("(^!)(?:"+modifierRegex+"|[\x3c\x3e\x3d()])+"),
lookbehind:true,inside:Prism.util.clone(modifierTokens)},"url":{pattern:/(:).+/,lookbehind:true},"punctuation":/[!:]/}},"footnote":{pattern:/\b\[\d+\]/,alias:"comment",inside:{"punctuation":/\[|\]/}},"acronym":{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{"comment":{pattern:/(\()[^)]+(?=\))/,lookbehind:true},"punctuation":/[()]/}},"mark":{pattern:/\b\((TM|R|C)\)/,alias:"comment",inside:{"punctuation":/[()]/}}}}});var nestedPatterns={"inline":Prism.util.clone(Prism.languages.textile["phrase"].inside["inline"]),
"link":Prism.util.clone(Prism.languages.textile["phrase"].inside["link"]),"image":Prism.util.clone(Prism.languages.textile["phrase"].inside["image"]),"footnote":Prism.util.clone(Prism.languages.textile["phrase"].inside["footnote"]),"acronym":Prism.util.clone(Prism.languages.textile["phrase"].inside["acronym"]),"mark":Prism.util.clone(Prism.languages.textile["phrase"].inside["mark"])};Prism.languages.textile.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\s\S])*\1|[^\s'">=]+))?)*\s*\/?>/i;
Prism.languages.textile["phrase"].inside["inline"].inside["bold"].inside=nestedPatterns;Prism.languages.textile["phrase"].inside["inline"].inside["italic"].inside=nestedPatterns;Prism.languages.textile["phrase"].inside["inline"].inside["inserted"].inside=nestedPatterns;Prism.languages.textile["phrase"].inside["inline"].inside["deleted"].inside=nestedPatterns;Prism.languages.textile["phrase"].inside["inline"].inside["span"].inside=nestedPatterns;Prism.languages.textile["phrase"].inside["table"].inside["inline"]=
nestedPatterns["inline"];Prism.languages.textile["phrase"].inside["table"].inside["link"]=nestedPatterns["link"];Prism.languages.textile["phrase"].inside["table"].inside["image"]=nestedPatterns["image"];Prism.languages.textile["phrase"].inside["table"].inside["footnote"]=nestedPatterns["footnote"];Prism.languages.textile["phrase"].inside["table"].inside["acronym"]=nestedPatterns["acronym"];Prism.languages.textile["phrase"].inside["table"].inside["mark"]=nestedPatterns["mark"]})(Prism);